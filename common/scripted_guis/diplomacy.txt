scripted_gui = {

    diploization = {
        context_type = player_context
        
        window_name = "diplo_container"
        
        visible = {
            has_country_flag = open_diplo_flag
        }
		
		effects = {
			diplo_button_close_click = {
				clr_country_flag = open_diplo_flag
			}
			
			#####Missions####
			
			diplo_1_available_click = {
				set_country_flag = diplo_1_completed_flag
				add_political_power = -150
			}
			diplo_2_available_click = {
				set_country_flag = diplo_2_completed_flag
				add_political_power = -150
			}
			diplo_3_available_click = {
				set_country_flag = diplo_3_completed_flag
				add_political_power = -150
			}
			diplo_4_available_click = {
				set_country_flag = diplo_4_completed_flag
				add_political_power = -150
			}
			diplo_5_available_click = {
				set_country_flag = diplo_5_completed_flag
				add_political_power = -150
			}
			diplo_6_available_click = {
				set_country_flag = diplo_6_completed_flag
				add_political_power = -150
			}
			diplo_7_available_click = {
				set_country_flag = completed_diplo_flag
			}
			
			back_button_click = {
				clr_country_flag = open_diplo_flag
				set_country_flag = westernization_opened
			}
		}
		
		triggers = {
			diplo_1_unavailable_visible = {
				NOT = {
					has_country_flag = diplo_1_completed_flag
				}
				has_country_flag = open_diplo_flag
				has_political_power < 150
			}
			diplo_1_available_visible = {
				NOT = {
					has_country_flag = diplo_1_completed_flag
				}
				has_political_power > 149
			}
			diplo_1_completed_visible = {
				has_country_flag = diplo_1_completed_flag
			}
			
			
			diplo_2_unavailable_visible = {
				NOT = {
					has_country_flag = diplo_2_completed_flag
				}
				has_country_flag = open_diplo_flag
			}
			diplo_2_available_visible = {
				NOT = {
					has_country_flag = diplo_2_completed_flag
				}
				has_country_flag = diplo_1_completed_flag
				has_political_power > 149
			}
			diplo_2_completed_visible = {
				has_country_flag = diplo_2_completed_flag
			}
			
			
			diplo_3_unavailable_visible = {
				NOT = {
					has_country_flag = diplo_3_completed_flag
				}
				has_country_flag = open_diplo_flag
			}
			diplo_3_available_visible = {
				NOT = {
					has_country_flag = diplo_3_completed_flag
				}
				has_country_flag = diplo_1_completed_flag
				has_political_power > 149
			}
			diplo_3_completed_visible = {
				has_country_flag = diplo_3_completed_flag
			}
			
			
			diplo_4_unavailable_visible = {
				NOT = {
					has_country_flag = diplo_4_completed_flag
				}
				has_country_flag = open_diplo_flag
			}
			diplo_4_available_visible = {
				NOT = {
					has_country_flag = diplo_4_completed_flag
				}
				has_political_power > 149
			}
			diplo_4_completed_visible = {
				has_country_flag = diplo_4_completed_flag
			}
			
			
			diplo_5_unavailable_visible = {
				NOT = {
					has_country_flag = diplo_5_completed_flag
				}
				has_country_flag = open_diplo_flag
			}
			diplo_5_available_visible = {
				NOT = {
					has_country_flag = diplo_5_completed_flag
				}
				has_country_flag = diplo_4_completed_flag
				has_political_power > 149
			}
			diplo_5_completed_visible = {
				has_country_flag = diplo_5_completed_flag
			}
			
			
			diplo_6_unavailable_visible = {
				NOT = {
					has_country_flag = diplo_6_completed_flag
				}
				has_country_flag = open_diplo_flag
			}
			diplo_6_available_visible = {
				NOT = {
					has_country_flag = diplo_6_completed_flag
				}
				has_country_flag = diplo_4_completed_flag
				has_political_power > 149
			}
			diplo_6_completed_visible = {
				has_country_flag = diplo_6_completed_flag
			}
			
			
			diplo_7_unavailable_visible = {
				NOT = {
					has_country_flag = completed_diplo_flag
				}
				has_country_flag = open_diplo_flag
			}
			diplo_7_available_visible = {
				NOT = {
					has_country_flag = completed_diplo_flag
				}
				has_country_flag = diplo_2_completed_flag
				has_country_flag = diplo_3_completed_flag
				has_country_flag = diplo_5_completed_flag
				has_country_flag = diplo_6_completed_flag
			}
			diplo_7_completed_visible = {
				has_country_flag = completed_diplo_flag
			}
		}
    }
}